//Copyright 2011 Noritaka Horio<holy.shared.design@gmail.com> all rights reserved.
//Licence The MIT Licence
(function(){var a=this.MMap={};a.version="0.2.3";a.MVCObject=new Class({initialize:function(){}});a.MVCObject.prototype=new google.maps.MVCObject()}());(function(a){a.Options=new Class({setOptions:function(b){var e=Object.clone(this.options);var b=Object.append(e,b);for(var c in b){var d=b[c];if(c=="map"){this.setMap(d);delete b[c]}else{if(instanceOf(d,Function)&&(/^on[A-Z]/).test(c)){this.addEvent(c,d);delete b[c]}}}this.options=b;return this}})}(MMap));(function(e,d){var c=function(f){return f.replace(/^on([A-Z])/,function(g,h){return h.toLowerCase()})};var b=function(f){var g=/(Changed)$/;return f.replace(g,"_$1").toLowerCase()};var a=function(f){return b(c(f))};e.Events=new Class({_events:{},_handles:{},addEvent:function(g,f){var h=null;g=a(g);h=d.addListener(this,g,f);this._handles[g]=(this._handles[g]||[]).include(f);this._events[g]=(this._events[g]||[]).include(h);return this},addEvents:function(g){for(var f in g){this.addEvent(f,g[f])}return this},removeEvent:function(h,g){h=a(h);var j=this._handles[h].contains(g);if(j){var f=this._handles[h].indexOf(g);var i=this._events[h][f];d.removeListener(i);this._events[h].erase(i);this._handles[h].erase(g)}return this},removeEvents:function(h){if(!h){d.clearInstanceListeners(this);return this}else{if(typeOf(h)=="object"){for(type in h){this.removeEvent(type,h[type])}return this}}for(type in this._events){if(h&&h!=type){continue}var g=this._events[type];for(var f=g.length;f--;){this.removeEvent(type,g[f])}}return this},fireEvent:function(k,h){k=a(k);if(!this._events[k]){return this}var g=[this,k];if(Type.isArray(h)){var f=h.length;for(var j=0;j<f;j++){g.push(h[j])}}else{g.push(h)}d.trigger.apply(this,g);return this}})}(MMap,google.maps.event));(function(a,b){a.Position=new Class({options:{position:null},getPosition:function(){return this.get("position")},setPosition:function(c){if(!instanceOf(c,b.LatLng)){new TypeError("The data type is not an Latlng.")}this.set("position",c);this.draw();return this}})}(MMap,google.maps));(function(b,d,c){b.Draggable=new Class({options:{draggable:false},_mouseX:null,_mouseY:null,_dragging:false,_mouseEvents:null,setDraggable:function(e){if(!Type.isBoolean(e)){new TypeError("The data type is not an boolean.")}this.set("draggable",e)},isDraggable:function(){return this.get("draggable")},isDragging:function(){return this._dragging},draggable_changed:function(){var f=this.toElement();var e=this._mouseEvents=new a(this);if(this.isDraggable()){f.addEvent("mousedown",this._mouseEvents.mousedown)}else{f.removeEvent("mousedown",this._mouseEvents.mousedown)}},_dragStart:function(e){this._dragging=true;this._mouseX=e.client.x;this._mouseY=e.client.y;this._startCapture();this._toggleMapDraggable();this._enableDragListeners();this.fireEvent("dragStart",[this._getCurrentPosition()])},_drag:function(f){var e=this._updatePosition(f);this.fireEvent("drag",[e])},_dragStop:function(){this._dragging=false;this._stopCapture();this._toggleMapDraggable();this._disableDragListeners();this.fireEvent("dragEnd",[this._getCurrentPosition()])},_getCurrentPosition:function(){var h=this.toElement();var f=h.getStyles("left","top");var g=h.getSize();var e=new c(f.left.toInt()+(g.x/2),f.top.toInt()+(g.y/2));var i=this.getProjection().fromDivPixelToLatLng(e);return{latlng:i,pixel:e}},_toggleMapDraggable:function(){var e=this.getMap();if(this._mapDraggableOption==null){this._mapDraggableOption=e.get("draggable")||true;e.set("draggable",false)}else{e.set("draggable",this._mapDraggableOption);this._mapDraggableOption=null}},_updatePosition:function(k){var i=this.toElement();var h=i.getSize();var e=i.getStyles("left","top");var g=k.client.x-this._mouseX;var f=k.client.y-this._mouseY;this._mouseX=k.client.x;this._mouseY=k.client.y;var j={left:e.left.toInt()+g,top:e.top.toInt()+f};i.setStyles(j);return this._getCurrentPosition()},_enableDragListeners:function(){var f=this.toElement();var e=this._mouseEvents;f.addEvents({mouseup:e.mouseup,mousemove:e.mousemove})},_disableDragListeners:function(){var f=this.toElement();var e=this._mouseEvents;f.removeEvents({mouseup:e.mouseup,mousemove:e.mousemove})},_startCapture:function(){var e=this.toElement();e.setCapture(true)},_stopCapture:function(){var e=this.toElement();e.releaseCapture()}});function a(e){var g={mousedown:this._onMouseDown,mouseup:this._onMouseUp,mousemove:this._onMouseMove};for(var f in g){this[f]=g[f].bind(e)}}a.implement({_onMouseDown:function(e){if(this.isDragging()){return}this._dragStart(e)},_onMouseUp:function(e){if(!this.isDragging()){return}this._dragStop()},_onMouseMove:function(e){if(!this.isDragging()){return}this._drag(e)}})}(MMap,google.maps,google.maps.Point));(function(a){a.Container=new Class({Extends:a.MVCObject,initialize:function(){var b=Array.from(arguments).link({items:Type.isArray});this.setItems(b.items||[]);this.setCurrent(0)},isValid:function(){var b=this.get("index");return this.hasItem(b)},getItem:function(c){if(!this.hasItem(c)){return}var b=this.getItems();return b[c]},getItems:function(){return this.get("items")},getCurrent:function(){var b=this.getItems();var c=this.get("index");return b[c]},setItems:function(b){if(!Type.isArray(b)){return}this.set("items",b);return this},setCurrent:function(b){if(!Type.isNumber(b)){return}this.set("index",b);return this},addItem:function(c){if(this.hasItem(c)){return}var b=this.getItems();b.push(c);return this},hasItem:function(c){var b=this.getItems();if(Type.isNumber(c)){return(b[c])?true:false}else{return(b.contains(c))?true:false}},count:function(){return this.getItems().length},removeItem:function(c){if(!this.hasItem(c)){return}var b=this.get("items");b.erase(c);return this},next:function(){var d=this.get("index");var c=this.getItems();var b=d+1;this.setCurrent(b);if(this.isValid()){return c[b]}return false},rewind:function(){this.setCurrent(0);return this},empty:function(){var b=this.getItems();this.rewind();b.empty()},find:function(b,d){while(this.isValid()){var c=this.getCurrent();if(c[b]==d){return c}this.next()}return false},findAll:function(b,d){var e=[];while(this.isValid()){var c=this.getCurrent();if(c[b]==d){e.push(c)}this.next()}return(e.length<=0)?false:e}})}(MMap));(function(a,b){a.OverlayView=new Class({Implements:[b.OverlayView,a.Events,a.Options],options:{map:null,zIndex:0,visible:true,active:false},initialize:function(c){this.instance=this.toElement();this.setOptions(c);this._added=false;this._init()},build:function(){var c=this.getPanes().overlayImage;this.body=this._setup(this.toElement());this.toElement().inject(c);this._setupListeners();this._added=true;this.fireEvent("add")},toElement:function(){if(!this.instance){this.instance=new Element("div",{"class":"ovarlayView"})}return this.instance},_setup:function(c){},_setupListeners:function(){},_init:function(){},draw:function(){},onAdd:function(){this.build()},onRemove:function(){this.removeEvents();this.unbindAll();this.instance.destroy();delete this.instance;this._added=false},getVisible:function(){return this.get("visible")},isAdded:function(){return this._added},isVisible:function(){return this.get("visible")},isActive:function(){return this.get("active")},setVisible:function(d){if(!Type.isBoolean(d)){new TypeError("The data type is not an boolean.")}this.set("visible",d);var c=this.toElement();if(d){c.setStyle("display","")}else{c.setStyle("display","none")}return this},setActive:function(c){}})}(MMap,google.maps));(function(a){a.Marker={};a.Marker.Core=new Class({Extends:a.OverlayView,Implements:[a.Position,a.Draggable],options:{map:null,className:"marker markerDefault",zIndex:null,visible:true,active:false},initialize:function(b){this.parent(b)},_init:function(){var b=this;var c=["position","zIndex","visible","active","draggable"];c.each(function(d){var e=b.options[d];b.set(d,e);delete b.options[d]})},_updateVisibleState:function(){this.setZIndex(this.get("zIndex")).setVisible(this.get("visible"))},_update:function(){},setDefaultZIndex:function(){var e=this.get("zIndex");if(!e){var c=this.getProjection();var b=this.get("position");var d=c.fromLatLngToDivPixel(b);this.setZIndex(d.y)}else{this.setZIndex(e)}},draw:function(){if(!this.isAdded()){return}this.refresh();var c=this.getProjection();var b=this.get("position");var d=this.instance.getSize();var f=c.fromLatLngToDivPixel(b);var e={position:"absolute",left:f.x-(d.x/2),top:f.y-d.y};this.instance.setStyles(e)},refresh:function(){if(!this.isAdded()){return}this._updateVisibleState();this._update()},getZIndex:function(){return this.get("zIndex")},setZIndex:function(c){if(!Type.isNumber(c)){new TypeError("The data type is not an integer.")}this.set("zIndex",c);var b=this.toElement();if(!this.isActive()){b.setStyle("z-index",c)}return this},setActive:function(c){if(!Type.isBoolean(c)){new TypeError("The data type is not an boolean.")}this.set("active",c);var b=this.toElement();if(c){this.fireEvent("active");b.setStyle("z-index",10000);b.addClass("active")}else{b.setStyle("z-index",this.getZIndex());b.removeClass("active")}return this}});a.Marker.HTML=new Class({Extends:a.Marker.Core,options:{map:null,className:"marker markerDefault",title:"",content:"",zIndex:null,visible:true},initialize:function(b){this.parent(b)},_setup:function(c){this.setDefaultZIndex();var d=this.options.className;c.addClass(d);var b=new Element("div",{"class":"inner"});var f=new Element("div",{"class":"hd"});var e=new Element("div",{"class":"bd"});var g=new Element("div",{"class":"ft"});b.adopt([f,e,g]);this._title=new Element("p",{"class":"title"});this._content=new Element("div",{"class":"content"});b.inject(c);this._title.inject(f);this._content.inject(e);return b},_setupListeners:function(){var c=this;var b=this.toElement();var e=function(f){f.target=c;c.fireEvent(f.type,f)};var d=["click","dblclick","mouseover","mouseout","mouseup","mousedown"];d.each(function(f){b.addEvent(f,e)})},_init:function(){this.parent();var b=this;var c=["title","content"];c.each(function(d){b.set(d,b.options[d]);delete b.options[d]})},_update:function(){this._title.set("html",this.get("title"));this._content.set("html",this.get("content"))},getTitle:function(){return this.get("title")},setTitle:function(b){if(!Type.isString(b)){new TypeError("The data type is not a character string.")}this.set("title",b);this.draw();return this},getContent:function(){return this.get("content")},setContent:function(b){if(!Type.isString(b)||!Type.isElement(b)){new TypeError("The data type is a character string or not an element.")}this.set("content",b);this.draw();return this}})}(MMap));(function(b,a){a.Image=new Class({Extends:a.Core,options:{map:null,className:"marker image imageDefault",title:"",image:"",url:"",position:null,zIndex:0,visible:true},initialize:function(c){this.parent(c)},_setup:function(c){this.setDefaultZIndex();var e=this.options.className;c.addClass(e);var d=new Element("p",{"class":"photo"});this._anchor=new Element("a",{title:this.get("title"),href:this.get("url")});this._image=new Element("img",{src:this.get("image")});d.inject(c);this._anchor.inject(d);this._image.inject(this._anchor);return d},_setupListeners:function(){var d=this;var c=this.toElement();var f=function(g){g.target=d;d.fireEvent(g.type,g)};var e=["click","dblclick","mouseover","mouseout","mouseup","mousedown"];e.each(function(g){c.addEvent(g,f)})},_init:function(){this.parent();var c=this;var d=["title","image","url"];d.each(function(e){c.set(e,c.options[e]);delete c.options[e]})},_update:function(){this._anchor.set({title:this.get("title"),href:this.get("url")});this._image.set({title:this.get("title"),image:this.get("image")})},getTitle:function(){return this.get("title")},getImage:function(){return this.get("image")},getURL:function(){return this.get("url")},setTitle:function(c){this.set("title",c);this.draw();return this},setImage:function(c){this.set("image",c);this.draw();return this},setURL:function(c){this.set("url",c);this.draw();return this}})}(MMap,MMap.Marker));(function(b,a){a.Images=new Class({Extends:a.Core,options:{map:null,className:"marker image imagesDefault",images:[],defaultIndex:0,interval:2000,duration:2000,autoplay:true,zIndex:0,position:null,visible:true},initialize:function(c){this.parent(c);this._elements=[];this._stack=[];this._index=0;this._start=false;this._mouseovered=false},_setup:function(d){this.setDefaultZIndex();this.addEvent("add",this._onPrepare.bind(this));var e=this.options.className;d.addClass(e);this._photos=new Element("ul",{"class":"photos"});this._photos.inject(d);var c=this.get("images");if(c&&Type.isArray(c)){this.addImages(c)}return this._photos},_setupListeners:function(){var d=this;var c=this.toElement();var f=function(g){g.target=d;d.fireEvent(g.type,g)};var e=["click","dblclick","mouseup","mousedown"];e.each(function(g){c.addEvent(g,f)});c.addEvent("mouseout",this._mouseout.bind(this))},_init:function(){this.parent();this.set("images",this.options.images);delete this.options.images},_onPrepare:function(){var c=this._stack.length;for(var e=0;e<c;e++){var f=this._stack[e];f.inject(this._photos)}delete this._stack;var d=this.options.defaultIndex;this.setCurrent(d);if(this.options.autoplay){this._timerID=this._next.delay(this.options.interval,this);this._start=true}},_next:function(){var c=this;var e=this._elements[this._index];e.setStyle("z-index",1);this._index=(this._index+1<this._elements.length)?this._index+1:0;var e=this._elements[this._index];e.setStyle("z-index",2);var d=e.get("tween");d.start("opacity",0,1)},_buildElement:function(g){var c=new Element("li");var d=new Element("a",{href:g.url,title:g.title});var f=new Element("img",{src:g.image,title:g.title});f.inject(d);d.inject(c);var e=this;c.set("tween",{duration:this.options.duration,onComplete:function(){if(e.isStart()){e.setCurrent(e._index);e._timerID=e._next.delay(this.options.interval,e)}}});c.addEvent("mouseover",e._mouseover.bind(this));return c},_mouseover:function(c){if(this._mouseovered){return false}c.target=this;this.fireEvent(c.type,c);this._mouseovered=true},_mouseout:function(c){if(!(c.target==this._photos||c.target==this.toElement())){return false}if(!this._mouseovered){return false}c.target=this;this.fireEvent(c.type,c);this._mouseovered=false},setCurrent:function(c){var d=0,f=this._elements.length,g=null,e={};for(d=0;d<f;d++){g=this._elements[d];e=(d==c)?{"z-index":1,opacity:1}:{"z-index":0,opacity:0};g.setStyles(e)}this._index=c},getImages:function(){return this.get("images")},setImages:function(c){clearTimeout(this._timerID);this._elements=[];this._index=0;if(this.isAdded()){this._photos.dispose()}this.set("images",c);this.addImages(c);return this},addImage:function(e){var d=this._buildElement(e);var c=this.get("images");if(!c.contains(e)){c.push(e)}if(!this.isAdded()){this._stack.push(d)}else{d.inject(this._photos)}this._elements.push(d);return this},addImages:function(c){var d=0,e=c.length;for(d=0;d<e;d++){this.addImage(c[d])}},removeImage:function(f){var c=this.get("images");var d=c.indexOf(f);if(d>=0){var e=this._elements[d];this._elements.erase(e);if(this._stack&&this._stack.contains(e)){this._stack.erase(e)}c.erase(f);e.destroy()}},removeImages:function(){var d=this;var c=Array.from(arguments);c.each(function(e){d.removeImage(e)})},isStart:function(){return(this._start)?true:false},start:function(){if(this.isStart()){return}this._timerID=this._next.delay(this.options.interval,this);this._start=true},stop:function(){clearTimeout(this._timerID);this._start=false}})}(MMap,MMap.Marker));(function(a){a.MarkerManager=new Class({Extends:a.MVCObject,Implements:[a.Events,a.Options],options:{map:null,markers:[]},initialize:function(b){this._container=new a.Container();this.setOptions(b);this._setup()},_setup:function(){var b={visibles:[],hiddens:[],actives:[],deactives:[]};this.addMarkers(this.options.markers);this.set("state",b);delete this.options.markers},setMap:function(c){var d=this.getContainer().rewind();this.set("map",c);while(d.isValid()){var b=d.getCurrent();b.setMap(c);d.next()}},getMap:function(){return this.get("map")},addMarker:function(c){var b=this.getContainer();b.addItem(c);c.setMap(this.getMap())},addMarkers:function(c){for(var b=0;l=c.length,b<l;b++){this.addMarker(c[b])}},removeMarker:function(c){var b=this.getContainer();b.removeItem(c);c.setMap(null)},removeMarkers:function(){var b=null,d=[],c=Array.from(arguments);if((c.length<=0)){c=this.getContainer().getItems()}while(c.length>0){d.push(c.shift())}d=d.flatten();while(d.length>0){b=d.shift();this.removeMarker(b)}},getContainer:function(){return this._container},getMarkers:function(){return this.getContainer().getItems()},setMarkers:function(e){var b=e.length,c=[];for(var d=0;d<b;d++){c.push(e[d])}this.getContainer().empty();this.addMarkers(c);this._displayMarkerChange()},getState:function(){var b=this.get("state");return b},_displayMarkerChange:function(){var g=this.getContainer().rewind();var f=[],e=[],b=[],d=[];while(g.isValid()){var c=g.getCurrent();(c.isVisible())?f.push(c):e.push(c);(c.isActive())?b.push(c):d.push(c);g.next()}var g={visibles:f,hiddens:e,actives:b,deactives:d};return this.set("state",g)},hasMarker:function(c){var b=false;var d=this.getContainer().rewind();while(d.isValid()){if(c==d.getCurrent()){b=true}d.next()}return b},visible:function(b){var c=function(d){return(b==d)?true:false};this._visibleMarkers.apply(this,[c]);this._displayMarkerChange()},visibleAll:function(){var c=this.getContainer().rewind();while(c.isValid()){var b=c.getCurrent();b.setVisible(true);c.next()}this._displayMarkerChange()},visibleByBounds:function(c){var b=function(d){return c.contains(d.getPosition())};this._visibleMarkers.apply(this,[b]);this._displayMarkerChange()},active:function(b){var c=function(d){return(b==d)?true:false};this._activeMarkers.apply(this,[c]);this._displayMarkerChange()},activeAll:function(){var c=this.getContainer().rewind();while(c.isValid()){var b=c.getCurrent();b.setActive(true);c.next()}this._displayMarkerChange()},activeByBounds:function(c){var b=function(d){return c.contains(d.getPosition())};this._activeMarkers.apply(this,[b]);this._displayMarkerChange()},_activeMarkers:function(d){var c=this.getContainer().rewind();while(c.isValid()){var b=c.getCurrent();b.setActive(d(b));c.next()}},_visibleMarkers:function(d){var c=this.getContainer().rewind();while(c.isValid()){var b=c.getCurrent();b.setVisible(d(b));c.next()}}})}(MMap));(function(a){a.MarkerLoader=new Class({Implements:[a.Events,a.Options],options:{format:"array"},initialize:function(b){this.setOptions(b)},load:function(d){var c=this;if(d){if(Type.isArray(d)){Object.merge(this.options,{markers:d})}else{Object.merge(this.options,d)}}var e=this.options.format;var b=a.MarkerLoader.factory(e);b.addEvents({onPreload:function(){c.fireEvent("preload")},onFailure:function(){var f=Array.from(arguments);c.fireEvent("failure",f)},onComplete:function(f){c.fireEvent("complete",[f])},onLoad:function(f){c.fireEvent("load",[c.build(f)])}});b.load(this.options)},build:function(e){var h=[],g=e.length;for(var d=0;d<g;d++){var c=e[d];var f=c.type||"html";f=(f=="html")?"HTML":f.capitalize();delete c.type;if(!a.Marker[f]){throw TypeError('Specified marker type "'+f+'" is not found.')}var b=new a.Marker[f](c);h.push(b)}return h}});a.MarkerLoader.factory=function(c){var b=null;switch(c){case"array":b=new a.MarkerLoader.Context();break;case"kml":break;case"json":default:b=new a.MarkerLoader.JSON();break}return b};a.MarkerLoader.Parser=new Class({Implements:[Events],parse:function(f){var b=[];var d=f.length;for(var e=0;e<d;e++){var c=f[e];var g=c.position;delete c.position;c.position=new google.maps.LatLng(g.latitude,g.longitude);b.push(c)}return b}});a.MarkerLoader.Context=new Class({Extends:a.MarkerLoader.Parser,load:function(c){this.fireEvent("preload");try{this.fireEvent("complete",[c.markers]);var d=this.parse(c.markers);this.fireEvent("load",[d])}catch(b){this.fireEvent("failure",[b])}}});a.MarkerLoader.JSON=new Class({Extends:a.MarkerLoader.Parser,_onRequest:function(){this.fireEvent("preload")},_onFailure:function(b){this.fireEvent("failure",[b])},_onSuccess:function(d,f){this.fireEvent("complete",[d]);var e=d.markers;var b=e.length;var c=this.parse(e);this.fireEvent("load",[c])},getRequest:function(d){if(this.request){this.request.setOptions(d);return this.request}var b=this;var c=["_onRequest","_onFailure","_onSuccess"];this.request=new Request.JSON(d);c.each(function(g){var f=b[g].bind(b);var e=g.replace("_","");b.request.addEvent(e,f);delete b[g]});return this.request},load:function(b){this.getRequest(b).send()}})}(MMap));(function(a,c){var b=15;a.Window=new Class({Extends:a.OverlayView,Implements:[a.Position],options:{className:"window windowDefault",title:"",content:"",zIndex:0,visible:true,active:false},initialize:function(d){this.parent(d)},_setup:function(d){var i=this.options.className;d.addClass(i);var j=this.get("zIndex");d.setStyle("z-index",j);var g=new Element("div",{"class":"inner"});var f=new Element("div",{"class":"hd"});var h=new Element("div",{"class":"bd"});var e=new Element("div",{"class":"ft"});g.adopt([f,h,e]);g.inject(d);var m=new Element("div",{"class":"hdgroup"});m.inject(f);var k=new Element("p",{"class":"close"});this._title=new Element("p",{"class":"title"});m.adopt([this._title,k]);this._closeButton=new Element("a",{title:"Close",href:"#",html:"Close"});this._closeButton.inject(k);this._content=new Element("div",{"class":"content"});this._content.inject(h);return g},_setupListeners:function(){var d=this;var e=this.toElement();this._closeButton.addEvent("click",function(f){d.close();d.fireEvent("close")})},_init:function(){var d=this;var e=["title","content","position","zIndex","visible","active"];e.each(function(f){d.set(f,d.options[f])})},draw:function(){if(!this.isAdded()||!this.isOpen()){return this}this.refresh();var j=0;if(this._anchor){var g=this._anchor;var n=g.instance;j=n.getSize().y}var i=this.getProjection();var h=this.get("position");var q=this.instance.getSize();var p=i.fromLatLngToDivPixel(h);var k=p.y-q.y-j;var e=p.x-(q.x/2);var o={position:"absolute",left:e,top:k};this.instance.setStyles(o);var f=0;if(k<b&&k>=0){f=b-k}else{if(k<=0){f=Math.abs(k)+b}}var m=new c.Point(p.x,p.y-f);var d=i.fromDivPixelToLatLng(m);this.getMap().panTo(d)},refresh:function(){if(!this.isAdded()){return this}this._updateVisibleState();this._update()},_updateVisibleState:function(){this.setZIndex(this.get("zIndex")).setVisible(this.get("visible"))},_update:function(){this._title.set("html",this.get("title"));this._content.set("html",this.get("content"))},open:function(e,d){this._anchor=d;this.setPosition(d.getPosition());if(this.isOpen()){return}this.setMap(e);this.fireEvent("open");this._opened=true},close:function(){this._opened=false;this.fireEvent("close");this.setMap(null)},isOpen:function(){return(this._opened)?true:false},getZIndex:function(){return this.get("zIndex")},setZIndex:function(e){if(!Type.isNumber(e)){new TypeError("The data type is not an integer.")}this.set("zIndex",e);var d=this.toElement();d.setStyle("z-index",e);return this},getTitle:function(){return this.get("title")},setTitle:function(d){if(!Type.isString(d)){new TypeError("The data type is not a character string.")}this.set("title",d);this.draw();return this},getContent:function(){return this.get("content")},setContent:function(d){if(!Type.isString(d)||!Type.isElement(d)){new TypeError("The data type is a character string or not an element.")}this.set("content",d);this.draw();return this},setActive:function(e){if(!Type.isBoolean(e)){new TypeError("The data type is not an boolean.")}this.set("active",e);var d=this.toElement();if(e){this.fireEvent("active");d.addClass("active")}else{d.removeClass("active")}return this}})}(MMap,google.maps));
