<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
	<head>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>MMap.js</title>
		<meta name="description" content="aa" />
		<meta name="keywords" content="Noritaka Horio,Web,Design,Javascript" />
		<meta http-equiv="Content-Language" content="ja" />
		<meta http-equiv="Content-Script-Type" content="text/javascript" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" />
		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
		<script type="text/javascript" src="../Demos/js/mootools/mootools-1.2.4-core.js"></script>
		<script type="text/javascript" src="../Source/MMap.js"></script>
		<script type="text/javascript" src="../Source/MMap.Marker.js"></script>
		<script type="text/javascript" src="../Demos/js/microformat/microformat.js"></script>
		<script type="text/javascript" src="../Demos/js/microformat/hcalendar.js"></script>
		<script type="text/javascript">
			window.addEvent("load", function() {
				var gmap = new MMap($("map"), {
					"center": {"lat": 35.6666870, "lng": 139.731859},
					"zoom": 14,
					"mapType": "roadmap"
				});

				var markers = [];
				var events = HCalendar.discover();
				events.each(function(event) {
					var geo = event.geo;
					var content = "<h3>" + event.summary + "</h3>";
					content += "<p>";
					content += event.description + "<br />";
					content += event.dtstart + " - ";
					content += event.dtend + "<br />";
					content += event.location;
					content += "</p>";

					markers.push(
						new MMap.Marker(gmap, {
							"latlng": {"lat": geo.latitude, "lng": geo.longitude},
							"title": event.summary + " - " + event.location, "url": event.url, "content": content
						}
					));
				});

				var triggers = $$(".vevent .summary .url");
				triggers.addEvent("click", function(event) {
					var index	= triggers.indexOf(this);
					var marker	= markers[index];
					var latlng	= marker.getPosition();
					gmap.setCenter(latlng);
					marker.orderToFront();
				});
			});
		</script>
	</head>
	<body>
		<div class="page gs960">
			<h1>MMap</h1>
			<div class="body">
				<div class="leftCol">
					<h2>index</h2>
					<ul>
						<li><a href="index.html">home</a></li>
						<li><a href="map.html">map</a></li>
						<li><a href="marker.html">marker</a></li>
						<li><a href="marker-style.html">marker-style</a></li>
						<li><a href="hreview-map.html">hreview</a></li>
					</ul>
				</div>
				<div class="main">
					<h2>MMap.js</h2>
					<div id="map" class="map"></div>

<div class="vcalendar">
	<div class="vevent">
		<h3 class="summary"><a class="url" href="#">XYZ Project Review - A</a></h3>
		<dl>
			<dt>Description:</dt>
			<dd class="description">Project XYZ Review Meeting</dd>
			<dt>Date:</dt>
			<dd>To held on <abbr class="dtstart" title="1998-03-12T08:30:00-05:00">12 March 1998 from 8:30am EST</abbr> until <abbr class="dtend" title="1998-03-12T09:30:00-05:00">9:30am EST</abbr></dd>
			<dt>Location:</dt>
			<dd>
				<span class="location">1CP Conference Room 4350</span>
				<abbr title="35.6666870;139.731859" class="geo">35.6666870, 139.731859</abbr>
			</dd>
		</dl>
	</div>
	<div class="vevent">
		<h3 class="summary"><a class="url" href="#">XYZ Project Review - B</a></h3>
		<dl>
			<dt>Description:</dt>
			<dd class="description">Project XYZ Review Meeting</dd>
			<dt>Date:</dt>
			<dd>To held on <abbr class="dtstart" title="1998-03-12T08:30:00-05:00">12 March 1998 from 8:30am EST</abbr> until <abbr class="dtend" title="1998-03-12T09:30:00-05:00">9:30am EST</abbr></dd>
			<dt>Location:</dt>
			<dd>
				<span class="location">1CP Conference Room 4350</span>
				<abbr title="35.621822;139.735863" class="geo">35.621822, 139.735863</abbr>
			</dd>
		</dl>
	</div>
	<div class="vevent">
		<h3 class="summary"><a class="url" href="#">XYZ Project Review - C</a></h3>
		<dl>
			<dt>Description:</dt>
			<dd class="description">Project XYZ Review Meeting</dd>
			<dt>Date:</dt>
			<dd>To held on <abbr class="dtstart" title="1998-03-12T08:30:00-05:00">12 March 1998 from 8:30am EST</abbr> until <abbr class="dtend" title="1998-03-12T09:30:00-05:00">9:30am EST</abbr></dd>
			<dt>Location:</dt>
			<dd>
				<span class="location">1CP Conference Room 4350</span>
				<abbr title="35.672718;139.76652" class="geo">35.672718, 139.76652</abbr>
			</dd>
		</dl>
	</div>
	<div class="vevent">
		<h3 class="summary"><a class="url" href="#">XYZ Project Review - D</a></h3>
		<dl>
			<dt>Description:</dt>
			<dd class="description">Project XYZ Review Meeting</dd>
			<dt>Date:</dt>
			<dd>To held on <abbr class="dtstart" title="1998-03-12T08:30:00-05:00">12 March 1998 from 8:30am EST</abbr> until <abbr class="dtend" title="1998-03-12T09:30:00-05:00">9:30am EST</abbr></dd>
			<dt>Location:</dt>
			<dd>
				<span class="location">1CP Conference Room 4350</span>
				<abbr title="35.671468;139.765066" class="geo">35.671468, 139.765066</abbr>
			</dd>
		</dl>
	</div>
</div>

				</div>
			</div>
		</div>
	</body>
</html>
